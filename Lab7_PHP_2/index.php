<?php
// запуск сессии для работы с пользовательскими данными
session_start();

// проверка авторизации пользователя через сессию
if (!isset($_SESSION['user_id'])) {
    // неавторизованный пользователь отправляется на страницу входа
    header('Location: login.php');
    exit();
}

// получение последней посещенной страницы из сессии
$lastPage = isset($_SESSION['last_page']) ? $_SESSION['last_page'] : 'a.php';

// перенаправление на последнюю страницу или на страницу А по умолчанию
header('Location: ' . $lastPage);
exit();
?>